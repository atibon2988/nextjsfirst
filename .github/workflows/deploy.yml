name: Test Secrets (Debug)

on: [push]

jobs:
  check-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Kiểm tra biến Secret
        run: |
          echo "--- BẮT ĐẦU KIỂM TRA ---"
          
          if [ -z "${{ secrets.DOCKERHUB_USERNAME }}" ]; then
            echo "❌ LỖI: DOCKERHUB_USERNAME đang bị RỖNG (GitHub không tìm thấy)."
          else
            echo "✅ OK: DOCKERHUB_USERNAME đã nhận (Giá trị đã được che)."
          fi

          if [ -z "${{ secrets.DOCKERHUB_TOKEN }}" ]; then
            echo "❌ LỖI: DOCKERHUB_TOKEN đang bị RỖNG."
          else
            echo "✅ OK: DOCKERHUB_TOKEN đã nhận."
          fi
          
          echo "--- KẾT THÚC KIỂM TRA ---"